<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>해외영화 사이트</title>
    <link rel="stylesheet" href="movie_self.css"/>
</head>
<body>
    <div class="container">
        <div class="title">
            <h2>민서의 영화나라</h2>
        </div>
        <div class="movie-row">
        <div class="item">
            <div id="movie-0" class="poster"></div>
        </div>
        <div class="item">
            <div id="movie-1" class="poster"></div>
        </div>
        <div class="item">
            <div id="movie-2" class="poster"></div>
        </div>
        <div class="item">
            <div id="movie-3" class="poster"></div>
        </div>
        <div class="item">
            <div id="movie-4" class="poster"></div>
        </div>
    </div>

    <div class="series-row">
        <div class="item">
            <div id="series-0" class="poster"></div>
        </div>
        <div class="item">
            <div id="series-1" class="poster"></div>
        </div>
        <div class="item">
            <div id="series-2" class="poster"></div>
        </div>
        <div class="item">
            <div id="series-3" class="poster"></div>
        </div>
        <div class="item">
            <div id="series-4" class="poster"></div>
        </div>
    </div>
    </div>
</body>

    <script src="https://code.jquery.com/jquery-3.6.1.js" 
integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI=" 
crossorigin="anonymous"></script>
<script>
        //영화 사이트 조회하기~~!!!
const API_KEY = '764ed67'; /*왜 API_KEY를 대문자로 썼게? 상수값의 변수이름은 대문자로!!작성. 카멜표기법이 아닌 언더바로 표기한다!! 약속~*/
    initMovie(); //함수 호출
    initSeries(); //        2

    function initSeries(){
        var search = 'friends';
        var type = 'series'; // 프렌즈라는 시리즈를 검색할 때!
        $.ajax({
            url:
                'http://www.omdbapi.com/?apiKey='+
                API_KEY +
                '&s=' +
                search +
                '&type=' +
                type +
                '',
                type: 'GET',
                dataType: 'json', //링크를 통해서~
                success: function (response){
                    for (var i=0; i<5; i++){
                        //시리즈 포스터 4개만 가져오기
                    var posterUrl = response.Search[i].Poster;
                        //img 태그 생성 포스터 이미지 경로 src에 넣어주기
                    var html = '<img src="' + posterUrl + '">';
                        //id가 movie-0~ -4인 태그에 시리즈 포스터 사진 append 하기! (append == 추가하다)
                    $('#series-'+ i).append(html);
                    }
                },
        });

    }
    function initMovie(){
        var search = 'friends';
        var type = 'movie';
        $.ajax({
            url:
          'http://www.omdbapi.com/?apiKey=' +
          API_KEY +
          '&s=' +
          search +
          '&type=' +
          type +
          '',
        type: 'GET',
        dataType: 'json',
        success: function (response){
            for (var i=0; i<5; i++){
                //영화 포스터 5개~
            var posterUrl = response.Search[i].Poster;
                //img 태그 생성. 포스터 이미지 경로를 src에 넣어주기
            var html = '<img src="' + posterUrl + '">';
                //id가 movie-0 ~ -4인 태그에 영화 포스터 사진 append!
                $('#movie-'+i).append(html);    
                }
            },
        });
    }
</script>
</html>